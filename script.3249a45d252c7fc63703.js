"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[514],{468:(e,t,n)=>{var r=n(358),o=n(936),i=n(750);function a(e){var t=e.target;if(t.matches("button")){var n=r.t.getCurrent(),o=200,a=t.closest(".slider-control");if(a){var c=a.querySelector(".slider-control__slider"),u=Number(c.value);o=Number(u),r.t.setSliderValue(u)}t.matches(".button-control__plus, .slider-control__add")&&(n.done+=o),t.matches(".button-control__minus, .slider-control__delete")&&(n.done-o<0?n.done=0:n.done-=o),r.t.setCurrent(n),r.t.setLastDrink((new Date).toTimeString()),(0,i.yg)()}}function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}navigator.serviceWorker&&window.addEventListener("load",u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.serviceWorker.register("/water-tracker/sw.js");case 1:case"end":return e.stop()}}),e)}))));var d=document.querySelector(".loading-overlay");(0,i.$W)()&&d.remove();var l=document.querySelector(".header"),s=document.querySelector(".button-control"),v=document.querySelector(".slider-control"),m=document.querySelector(".slider-control__slider");l.addEventListener("click",(function(e){var t=e.target;if(t.matches(".header__btn_ok")){var n=document.querySelector(".header__input"),a=t.closest(".header"),c=Number(Number(n.value).toFixed(1));if(c<=0||isNaN(c))n.setCustomValidity("yo man");else{var u=r.t.getCurrent(),d={date:u.date,goal:1e3*c,done:u.done};(0,i.cW)(!0),r.t.setCurrent(d),a.innerHTML=(0,o.nq)(d.done,d.goal),(0,i.yg)(),(0,i.pg)()}}})),l.addEventListener("click",(function(e){var t=e.target;t.matches(".header__btn_change")&&(t.closest(".header").innerHTML=(0,o.GQ)(),(0,i.Du)())})),l.addEventListener("keyup",(function(e){"Enter"===e.key&&l.querySelector(".header__btn_ok").click()})),s.addEventListener("click",a),v.addEventListener("click",a),m.addEventListener("input",i.li),r.t.initCurrent().then((function(e){0!==e.goal?(l.innerHTML=(0,o.nq)(e.done,e.goal),(0,i.cW)(!0),(0,i.yg)(),(0,i.pg)()):l.innerHTML=(0,o.GQ)()})).finally((function(){(0,i.$W)()||setTimeout((function(){d.remove()}),350)})),document.body.addEventListener("dblclick",(function(e){return e.preventDefault()})),document.addEventListener("visibilitychange",(function(){"hidden"!==document.visibilityState&&(new Date).toDateString()!==r.t.getCurrent().date.toDateString()&&location.reload()}))}},e=>{e.O(0,[205],(()=>(468,e(e.s=468)))),e.O()}]);