"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[514],{468:(e,t,r)=>{var n=r(358),o=r(936),i=r(750);function a(e){var t=e.target;if(t.matches("button")){var r=n.t.getCurrent(),o=200,a=t.closest(".slider-control");if(a){var c=a.querySelector(".slider-control__slider"),u=Number(c.value);o=Number(u),n.t.setSliderValue(u)}t.matches(".button-control__plus, .slider-control__add")&&(r.done+=o),t.matches(".button-control__minus, .slider-control__delete")&&(r.done-o<0?r.done=0:r.done-=o),n.t.setCurrent(r),n.t.setLastDrink((new Date).toTimeString()),(0,i.yg)()}}function c(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))}}navigator.serviceWorker&&window.addEventListener("load",u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.serviceWorker.register("/water-tracker/sw.js");case 1:case"end":return e.stop()}}),e)}))));var d=document.querySelector(".header"),l=document.querySelector(".button-control"),s=document.querySelector(".slider-control"),v=document.querySelector(".slider-control__slider");d.addEventListener("click",(function(e){var t=e.target;if(t.matches(".header__btn_ok")){var r=document.querySelector(".header__input"),a=t.closest(".header"),c=Number(Number(r.value).toFixed(1));if(c<=0||isNaN(c))r.setCustomValidity("yo man");else{var u=n.t.getCurrent(),d={date:u.date,goal:1e3*c,done:u.done};(0,i.cW)(!0),n.t.setCurrent(d),a.innerHTML=(0,o.nq)(d.done,d.goal),(0,i.yg)(),(0,i.pg)()}}})),d.addEventListener("click",(function(e){var t=e.target;t.matches(".header__btn_change")&&(t.closest(".header").innerHTML=(0,o.GQ)(),(0,i.Du)())})),d.addEventListener("keyup",(function(e){"Enter"===e.key&&d.querySelector(".header__btn_ok").click()})),l.addEventListener("click",a),s.addEventListener("click",a),v.addEventListener("input",i.li),n.t.initCurrent().then((function(e){0!==e.goal?(d.innerHTML=(0,o.nq)(e.done,e.goal),(0,i.cW)(!0),(0,i.yg)(),(0,i.pg)()):d.innerHTML=(0,o.GQ)()})).finally((function(){var e=document.querySelector(".loading-overlay");setTimeout((function(){e.remove()}),350)})),document.body.addEventListener("dblclick",(function(e){return e.preventDefault()}))}},e=>{e.O(0,[205],(()=>(468,e(e.s=468)))),e.O()}]);